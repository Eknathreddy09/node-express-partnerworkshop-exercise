accelerator:
  displayName: Node accelerator
  description: A express js template app
  iconUrl: https://raw.githubusercontent.com/simple-starters/icons/master/icon-nodejs.png
  tags:
  - node
  - express  

  # options for the UI
  options:
  - name: includeK8s
    label: "Include k8s assets?"
    inputType: toggle    
    dataType: boolean
    defaultValue: false
    required: true

engine:
  sources:
    - includes: [ "**" ]
      excludes: [ "kubernetes/**", "README.md", "k8s.md" ]
    - includes: [ "package.json" ]
      transformations:
      - type: ReplaceText
        substitutions:
        - text: node-accelerator-name
          with: "#artifactId"
        - text: accelerator-description
          with: "#projectDescription"        
    - includes: [ "kubernetes/node-accelerator.yml" ]
      condition: "#includeK8s"
      transformations:
      - type: ReplaceText
        substitutions:
        - text: node-accelerator
          with: "#artifactId"
      - type: RewritePath
        rewriteTo: "'kubernetes/' + #artifactId + '.yml'"    
    - name: README
      type: Combo
      onConflict: Append
      sources:
      - include: [ "README.md"]
        transformations:
        - type: ReplaceText
          substitutions:
          - text: node-accelerator
            with: "#artifactId"
      - includes: ["k8s.md"]
        condition: "#includeK8s" 
        transformations:     
        - type: RewritePath
          rewriteTo: "'README.md'"
    
